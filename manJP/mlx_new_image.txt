MiniLibX 3 "September 19, 2002"
NAME
MiniLibX - Manipulating images
SYNOPSYS

void *mlx_new_image(void *mlx_ptr, int width, int height);
char *mlx_get_data_addr(void *img_ptr, int *bits_per_pixel, int *size_line, int *endian);
int mlx_put_image_to_window(void *mlx_ptr, void *win_ptr, void *img_ptr, int x, int y);
unsigned int mlx_get_color_value(void *mlx_ptr, int color);
void *mlx_xpm_to_image(void *mlx_ptr, char **xpm_data, int *width, int *height);
void *mlx_xpm_file_to_image(void *mlx_ptr, char *filename, int *width, int *height);
int mlx_destroy_image(void *mlx_ptr, void *img_ptr);


DESCRIPTION
mlx_new_image関数は、メモリ内に新しい画像を作ります。この画像を操作するためのvoidポインター型の識別子を返します。
引数として作りたい画像の幅と高さ、接続識別子を必要とします。
ユーザーはこの画像内に描写したり（下記参照）、指定したウィンドウに画像の内容を表示することができます。
これには、mlx_put_image_to_window関数を使用します。接続識別子、ウィンドウ識別子、画像識別子が必要です。
座標(x,y)はウィンドウ内のどこに画像を表示するかを指定します。

mlx_get_data_addr関数は作成された画像の情報を返し、ユーザーが編集できるようにします。
引数img_ptrは使用する画像を指定し、残りの三つの引数はint型の変数のアドレスを指定します。
bits_per_pixelは、ピクセルの色を表現するのに必要なbit数を返します。（色深度とも呼ばれます。）
size_lineは、画像の一行をメモリ上に保存するのに必要なバイト数です。
この情報は、画像ある行から別の行へ移動するのに必要です。
endianは、画像のピクセルの色をリトルエンディアン（endian== 0）かビッグエンディアン（endian== 1）のどちらで保存しているかを示しています。（バイトオーダー）
mlx_get_data_addr関数は画像が保存されているメモリの始まりを示すchar*型を返します。
このアドレスから、最初のbits_per_pixelビットが最初の行の一つ目のピクセルの色を表現しています。
次のbits_per_pixelビットが最初の行の二つ目のピクセルの色を表現します。
アドレスに、size_lineを加えると、二行目の始まりのアドレスを取得できます。
このようにして、任意のピクセルにアクセスすることができます。

mlx_destroy_image関数は、与えられたimg_ptrの画像を破棄します。

STORING COLOR INSIDE IMAGES
ディスプレイによって、ピクセルの色を保存するのに使われるビット数は変化します。
ユーザーは通常一つの色をRGBで表現し、三原色にそれぞれ1バイト使用します。(mlx_pixel_putを参照)
これは、X-Server（つまりディスプレイ）が理解できる色にするため、bits_per_pixelの要求に合わせて変換しなければなりません。
これが、mlx_get_color_value関数の目的です。通常のRGBを引数colorとして受け取り、unsigned int型の値を返します。
bits_per_pixel分の下位ビットが色として画像に保存できます。

下位ビットの位置がローカル環境のendianに依存することに注意してください。
もし画像のendian（X-server側のコンピュータのendian）がローカルのendianと違う場合、値を変換してから使う必要があります。

XPM IMAGES
mlx_xpm_to_image関数と、mlx_xpm_file_to_image関数は新しい画像を同じ方法で作成します。
xpm_dataかfilenameに指定されたxpmを画像にします。
MiniLibXは通常のXpmライブラリを利用しないため、全てのxpm画像が読み込めないかもしれません。
しかし、透明度は扱えます。

RETURN VALUES
The three functions that create images,
mlx_new_image関数、mlx_xpm_to_image関数、mlx_xpm_file_to_image関数はエラーの際NULLを返します。
それ以外は、NULLでない画像識別子を返します。

SEE ALSO
mlx(3), mlx_new_window(3), mlx_pixel_put(3), mlx_loop(3)

AUTHOR
Copyright ol@ - 2002-2014 - Olivier Crouzet
